<?xml version="1.0" encoding="utf-8"?>

<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:h="http://java.sun.com/jsf/html"
              xmlns:ui="http://java.sun.com/jsf/facelets"
              xmlns:f="http://java.sun.com/jsf/core"
              xmlns:p="http://primefaces.org/ui">

    <h:form id="productForm">
        <div class="p-field p-grid">
            <p:outputLabel value="#{msg['product.name']}" for="name" class="p-col-fixed" style="width: 200px;"/>
            <div class="p-col">
                <p:inputText id="name" value="#{productController.product.name}" label="Field Name"/>
            </div>
            <div class="p-col">
                <p:message for="name" style="color: red;"/>
            </div>
        </div>

        <div class="p-field p-grid">
            <p:outputLabel value="#{msg['product.price']}" for="price" class="p-col-fixed"
                           style="width: 200px;"/>
            <div class="p-col">
                <p:inputText id="price" value="#{productController.product.price}" label="Field Price">
                    <f:passThroughAttribute name="type" value="number"/>
                </p:inputText>
            </div>
            <div class="p-col">
                <p:message for="price" style="color: red;"/>
            </div>
        </div>

        <div class="p-field p-grid">
            <p:outputLabel value="#{msg['product.sku']}" for="sku" class="p-col-fixed" style="width: 200px;"/>
            <div class="p-col">
                <p:inputText id="sku" value="#{productController.product.sku}"/>
            </div>
            <div class="p-col">
                <p:message for="sku" style="color: red;"/>
            </div>
        </div>

        <div class="p-field p-grid">
            <p:outputLabel value="#{msg['product.category']}" for="category" class="p-col-fixed"
                           style="width: 200px;"/>
            <div class="p-col">
                <p:selectOneMenu id="category" value="#{productController.product.category}">
                    <f:selectItem itemLabel="--- select ---" itemValue="#{null}"/>
                    <f:selectItems value="#{categories}" var="cat" itemLabel="#{cat.name}"/>
                    <f:converter binding="#{categoryConverter}"/>
                </p:selectOneMenu>
            </div>
            <div class="p-col">
                <p:message for="category" style="color: red;"/>
            </div>
        </div>

        <div class="p-field p-grid">
            <p:outputLabel value="#{msg['product.createdAt']}" for="createdAt" class="p-col-fixed"
                           style="width: 200px;"/>
            <div class="p-col">
                <p:datePicker pattern="yyyy-MM-dd" id="createdAt" value="#{productController.product.createdAt}"
                              converterMessage="Insert on format yyyy-MM-dd">
                    <f:convertDateTime type="localDate" pattern="yyyy-MM-dd"/>
                    <f:passThroughAttribute name="type" value="date"/>
                </p:datePicker>
            </div>
            <div class="p-col">
                <p:message for="createdAt" style="color: red;"/>
            </div>
        </div>

        <div class="p-field p-grid">
            <div class="p-col">
                <p:commandButton
                        value="#{productController.product.id > 0 ? msg['product.button.edit'] : msg['product.button.save']}"
                        action="#{productController.save}" class="ui-button-outlined ui-button-success"
                        update="@form table1"/>
            </div>
            <h:inputHidden id="id" value="#{productController.product.id}"/>
        </div>
    </h:form>
</ui:component>